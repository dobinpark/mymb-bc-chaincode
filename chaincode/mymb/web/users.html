<!-- web/users.html -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>All Users</title>
	<style>
		.hidden {
			display: none;
		}
	</style>
</head>
<body>
	<h1>All Users</h1>
	<nav>
		<button onclick="window.location.href='/users'">Users</button>
		<button onclick="window.location.href='/tokens'">Tokens</button>
	</nav>
	<table border="1">
		<tr>
			<th>UserID</th>
			<th>NickName</th>
			<th>MymPoint</th>
			<th>OwnedToken</th>
			<th>BlockCreatedTime</th>
		</tr>
		{{range .}}
		<tr>
			<td>{{.UserId}}</td>
			<td>{{.NickName}}</td>
			<td>{{.MymPoint}}</td>
			<td>
				<button onclick="toggleVisibility('tokens-{{.UserId}}')">Toggle Tokens</button>
				<ul id="tokens-{{.UserId}}" class="hidden">
					{{range .OwnedToken}}
					<li>{{.}}</li>
					{{end}}
				</ul>
			</td>
			<td>{{.BlockCreatedTime}}</td>
		</tr>
		{{end}}
	</table>
	
	<script>
		function toggleVisibility(id) {
			const element = document.getElementById(id);
			if (element.classList.contains('hidden')) {
				element.classList.remove('hidden');
			} else {
				element.classList.add('hidden');
			}
		}
	</script>
</body>
</html>
